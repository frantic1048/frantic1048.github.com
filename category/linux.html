<!DOCTYPE html>
<html lang="zh">
<head>
		<title>Frantic World - Linux</title>
	<meta charset="utf-8" />
    <meta name="author" content="Frantic1048">
	<link rel="stylesheet" href="http://frantic1048.com/theme/css/franticworld.css" type="text/css" />
	<link href="http://frantic1048.com/theme/css/pygments.css" rel="stylesheet">
	</head>
<body background="http://frantic1048.com/theme/img/pattern.png">
		<div class="nav-banner">
		<a href="http://frantic1048.com">Frantic World</a>
		</div>
		
		<div class="content">
		
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">140</p>
		<p class="metayear">2014</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/krita-28-kuai-jie-jian.html " >Krita 2.8 快捷键</a>
		<p><a target="_blank" href="http://frantic1048.com/static/img/krita-2-8-shortcuts-sheet-dark-chinese.png"><img alt="" src="http://frantic1048.com/static/img/krita-2-8-shortcuts-sheet-dark-chinese.png" style="max-width:780px;"/></a></p>
<p>点开可看大图</p>
<p>快捷键这东西，用了才发现这么方便。</p>
		<a class="btnmore" href="/krita-28-kuai-jie-jian.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">013</p>
		<p class="metayear">2014</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/xiu-fu-arch-linuxde-yin-dao.html " >修复Arch Linux的引导</a>
		<p>今天折腾着给移动硬盘装系统，结果进了几下PE把自己本本的引导玩坏了，搞了半天回忆了一下安装系统的过程，终于把系统给重新正常启动了，万分激动啊！</p>
<hr />
<p>我的本本只有一个ArchLinux在上面，硬盘属于<em>混合硬盘</em>，Linux下面会被识别成一个500GB的<code>/sda</code>和20GB的<code>/sdb</code>,前面一个盘有<code>/home</code>,<code>/var</code>两个目录，和<code>swap</code>分区；根目录被我直接放在固态硬盘的<code>/sdb</code>了。</p>
<p>现在问题是引导挂掉了，也就是说GRUB都不能启动了，开机直接黑&gt;_&lt;</p>
<h1>解决步骤</h1>
<ul>
<li>用写过ArchLinux镜像的U盘启动，进入64位的Live系统（我的系统是64位的）</li>
<li>
<p>挂载本本上的分区，<em>一定要先挂载根目录</em></p>
<div class="highlight"><pre><span class="n">mount</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb1</span> <span class="o">/</span><span class="n">mnt</span>
<span class="n">mount</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda3</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">home</span>
<span class="n">mount</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda2</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">var</span>
</pre></div>


</li>
<li>
<p>把根目录切换到本本上的根目录</p>
<div class="highlight"><pre><span class="n">arch</span><span class="o">-</span><span class="n">chroot</span> <span class="o">/</span><span class="n">mnt ...</span></pre></div></li></ul>
		<a class="btnmore" href="/xiu-fu-arch-linuxde-yin-dao.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">262</p>
		<p class="metayear">2013</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/qi-yong-katede-nei-jian-zhong-duan.html " >启用Kate的内建终端</a>
		<ul>
<li>操作系统：Arch Linux 3.11.1-1</li>
<li>桌面环境：KDE 4.11.1</li>
</ul>
<p><img alt="" src="http://frantic1048.com/static/img/kate-with-out-terminal.png" /></p>
<p>开学一来就开始布置C作业，用Kate写Py版作业的时候发现Kate的内置终端没有了，折腾了十多分钟才发现自己犯傻了，在Kate设置中，插件那儿把<code>Terminal tool view</code>这个插件启用就可以了,见下图。</p>
<p><img alt="" src="http://frantic1048.com/static/img/kate-configure-terminal.png" /></p>
<p><img alt="" src="http://frantic1048.com/static/img/kate-with-terminal.png" /></p>
		<a class="btnmore" href="/qi-yong-katede-nei-jian-zhong-duan.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">242</p>
		<p class="metayear">2013</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/zai-linuxxia-yong-gccbian-yi-ccheng-xu.html " >在Linux下用GCC编译C程序</a>
		<p>得知第一学期似乎就要搞C了，以前没认真看过，今儿图书馆去翻了本Linux C的书，学会怎么编译先。</p>
<p>操作环境：Linux 3.10.9-1-ARCH</p>
<h1>安装GCC</h1>
<p>Arch安装软件蛮简单的，直接在终端里面</p>
<div class="highlight"><pre><span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> <span class="n">gcc</span>
</pre></div>


<p>就搞定了。</p>
<h1>使用GCC编译你的C程序</h1>
<p>最简单的命令，就是</p>
<div class="highlight"><pre><span class="n">gcc</span> <span class="n">helloc</span><span class="p">.</span><span class="n">c</span> <span class="o">-</span><span class="n">o</span> <span class="n">hello</span><span class="p">.</span><span class="n">out</span>
</pre></div>


<p>其中选项<code>-o</code>是指定输出文件位置，正常情况下，执行完之后生成的就是可以运行的二进制文件了。当然，因为这是Linux系统，你可能还需要运行<code>chmod +x hello.out</code>来赋予执行权限给输出的程序。</p>
<hr />
<p>然后GCC还有一些其它的一些常见编译/优化/调试用的选项（参考书上的），这些就在接下来慢慢折腾吧。</p>
<table border-collapse=collapse>
<tr><th>选项</th><th>作用</th><th>输出文件的默认后缀</th></tr>
<tr><td>-E</td><td>只完成预处理过程</td><td>.i ...</td></tr></table>
		<a class="btnmore" href="/zai-linuxxia-yong-gccbian-yi-ccheng-xu.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">231</p>
		<p class="metayear">2013</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/jie-jue-kdeying-yong-cai-dan-bu-xian-shi-winecheng-xu-zu-de-wen-ti.html " >解决KDE应用菜单不显示wine程序组的问题</a>
		<ul>
<li>KDE版本：4.10.5</li>
<li>wine版本：1.7.0</li>
</ul>
<p>刚用wine装了几个程序，发现K应用菜单里面没有wine程序的这个分类，wine程序全部跑到 <code>Lost + Found</code> 这分组去了。上网搜索一番，没找到问题原因的描述，就找到下面的解决方法，似乎是因为wine没有修改到KDE使用的造成的？</p>
<div class="highlight"><pre><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">~/</span><span class="p">.</span><span class="n">config</span><span class="o">/</span><span class="n">menus</span><span class="o">/</span><span class="n">applications</span><span class="o">-</span><span class="n">merged</span> <span class="o">~/</span><span class="p">.</span><span class="n">config</span><span class="o">/</span><span class="n">menus</span><span class="o">/</span><span class="n">kde</span><span class="o">-</span><span class="n">applications</span><span class="o">-</span><span class="n">merged</span>
</pre></div>
		<a class="btnmore" href="/jie-jue-kdeying-yong-cai-dan-bu-xian-shi-winecheng-xu-zu-de-wen-ti.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">223</p>
		<p class="metayear">2013</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/zai-archzhong-an-zhuang-he-shi-yong-virtualenv.html " >在Arch中安装和使用virtualenv</a>
		<p>刚刚换到Arch，发现不少东西操作都有点变化。想当然已经解决不了问题了x_x，遂将其记下来。</p>
<h2>安装</h2>
<p>在Arch仓库里面有俩个<code>virtualenv</code>,根据需要安装即可。</p>
<div class="highlight"><pre><span class="c"># pacman -S python2-virtualenv</span>
</pre></div>


<p>或者</p>
<div class="highlight"><pre><span class="c"># pacman -S python-virtualenv</span>
</pre></div>


<p>前者对应的是python2,后者python3。命令行命令分别是<code>virtualenv2</code>和<code>virtualenv</code>。</p>
<h2>使用</h2>
<p>首先为<code>virtualenv</code>创建一个目录：</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="p">.</span><span class="n">virtualenvs</span><span class="o">/</span><span class="n">my_env</span>
</pre></div>


<p>创建虚拟环境</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">virtualenv2</span> <span class="o">~/</span><span class="p">.</span><span class="n">virtualenvs</span><span class="o">/</span><span class="n">my_env</span>
</pre></div>


<p>激活环境以供使用（就这步和关闭虚拟环境跟windows下面不一样，让我撞墙好久）</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">source</span> <span class="o">~/</span><span class="p">.</span><span class="n">virtualenvs</span><span class="o">/</span><span class="n">my_env</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>


<p>之后你就可以在虚拟环境里面用<code>pip</code>安装你需要的包，以及干各种事情啦。</p>
<p>最后是离开虚拟环境</p>
<div class="highlight"><pre><span class="p">(</span><span class="n">my_env</span><span class="p">)</span><span class="err">$</span> <span class="n">deactivate</span>
</pre></div>


<h2>参考</h2>
<p><a href="https://wiki.archlinux.org/index.php/Python_VirtualEnvb">Arch ...</a></p>
		<a class="btnmore" href="/zai-archzhong-an-zhuang-he-shi-yong-virtualenv.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metaday">222</p>
		<p class="metayear">2013</p>
		<p class="metacategory">Linux</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/tong-guo-zi-ti-wen-jian-gei-archan-zhuang-zi-ti.html " >通过字体文件给Arch安装字体</a>
		<p>适用情况：</p>
<ul>
<li>搬运windows那边的字体到Arch</li>
<li>安装从网上下载的字体文件</li>
<li>其它需要手动安装字体文件的情况</li>
</ul>
<p>Arch的字体目录为<code>/usr/share/fonts</code>，安装字体时建议在这里建立单独的文件夹来存放手动安装的字体(比如这里建立了一个winfont文件夹)</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">fonts</span><span class="o">/</span><span class="n">winfont</span>
</pre></div>


<p>将你要安装的字体文件复制到<code>/usr/share/fonts</code>下你建立的文件夹中</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="o">/</span><span class="n">directory</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">your</span><span class="o">-</span><span class="n">font</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">fonts</span><span class="o">/</span><span class="n">winfont</span>
</pre></div>


<p>（注意这些字体文件的访问权限，至少要普通用户可读才行，否则就用<code>chmod</code>修改一下文件权限）</p>
<p>然后执行</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">mkfontscale</span>
<span class="n">sudo</span> <span class="n">mkfontdir</span>
<span class="n">sudo</span> <span class="n">fc</span><span class="o">-</span><span class="n">cache</span> <span class="o">-</span><span class="n">fsv</span>
</pre></div>


<p>这样就安装完成了。</p>
		<a class="btnmore" href="/tong-guo-zi-ti-wen-jian-gei-archan-zhuang-zi-ti.html">more ...</a>
	</div>
</div>

<p class="paginator">
        Page 1 / 1
    </p>
		</div>
		
		<div class="sidebar">
		<div class="sidebarcategory">
<h4>Categories</h4>
	<li><a href="http://frantic1048.com/category/blog.html">Blog</a></li>
	<li><a href="http://frantic1048.com/category/life.html">Life</a></li>
	<li><a href="http://frantic1048.com/category/linux.html">Linux</a></li>
	<li><a href="http://frantic1048.com/category/misc.html">Misc</a></li>
	<li><a href="http://frantic1048.com/category/web.html">Web</a></li>
</div>

<div class="sidebarpages">
	<h4>Pages</h4>
			<li><a href="http://frantic1048.com/pages/about.html">About</a></li>
	</div>

<div class="sidebarblogroll">
<h4>Blogroll</h4>
    <li><a href="http://www.linuxzen.com/" target="_blank">cold</a></li>
    <li><a href="http://www.dongxf.com/" target="_blank">晓风</a></li>
    <li><a href="http://www.pythontip.com/home" target="_blank">一人一python</a></li>
</div>

<div class="sidebarsocial">
<h4>Social</h4>
    <li><a href="http://tudou.com/home/FranticBlack">Tudou</a></li>
    <li><a href="https://github.com/frantic1048">Github</a></li>
</div>		</div>
		
		<footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>,
				Theme by <a href="http://frantic1048.com/">Frantic1048</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</body>
</html>