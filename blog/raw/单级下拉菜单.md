#单级下拉菜单

样例：


<frame>
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Single Level Dropdown Menu</title>
</head>
<body>
	<style type="text/css">
	body{
    margin:0;
    padding:0;
    
    font-size:18px;
    
    /*设置一下背景，不要在意*/
    background-color:#aaa;
    background-image:url("shinobu_oshino_by_tobuei.png");
    background-repeat:no-repeat;
    background-position:center bottom;
    background-size:80%;
}
h1{margin:2em 0.4em 0 0.4em;color:#eee;font-size:3em;}
#dropdown-wrapper{
    display:block;
    margin:4em 1em 0 1em;
    
    height:40em;/*这个不是必要的，只是撑背景用*/
}
#dropdown-wrapper li{
    /*！！！！！！！！！！！！*/
    display:inline-table;/*每个项横着排列*/
    padding:0;
    margin:0;
    
    position:relative;
    
    width:10em;
    height:1em;/*限定高度*/
    overflow:hidden;
    
    background:#fff;
    
     -webkit-transition:all ease-in-out 0.3s;
    transition:all ease-in-out 0.3s;
}
#dropdown-wrapper span{
    display:block;
    padding:0.4em 1em;
    width:10em;
    color:#333;
}
#dropdown-wrapper span:after{
    display:inline-block;
    float:right;
    content:">";
    
    -webkit-transform:rotate(0deg);
    transform:rotate(0deg);/*主动设置0deg是为了能够渐变*/
    
     -webkit-transition:all ease-in-out 0.3s;
    transition:all ease-in-out 0.3s;
}
#dropdown-wrapper li:hover span:after{
    -webkit-transform:rotate(90deg);
    transform:rotate(90deg);/*划过的时候那个右键头旋转90度，变成朝下的啦*/
}
#dropdown-wrapper li ul{
    /*！！！！！！！！！！！！*/
    display:block;
    position:absolute;
    
    padding:0;
    margin:0;
    
    height:0;/*0高度，也就是不显示*/
    line-height:0;/*0行高，这个的作用是用来制造一个文字展开的效果*/
    overflow:hidden;
    
    color:#555;
    
    opacity:0;/*0不透明度，为了制造一个渐入效果*/
    
    -webkit-transform:translateY(-1em);
    transform: translateY(-1em);

     -webkit-transition:all ease-in-out 0.3s;
    transition:all ease-in-out 0.3s;
}
#dropdown-wrapper li ul>li{
    padding:0.7em 1em;
    
}
#dropdown-wrapper li:hover ul{
    /*！！！！！！！！！！！！*/
    /*这是顶级列表的子项鼠标划过 的下拉列表的状态，
     *这里让它恢复正常的显示状态，也就是说划过的时候就显示出来
    */
    opacity:1;
    height:auto;
    line-height:1em;
    
    -webkit-transform: translaY(0);
    transform: translateY(0);
}


#dropdown-wrapper li:hover span{
    color:rgb(0,173,238);
}
#dropdown-wrapper li:hover ul>li:hover{
    background:rgb(0,173,238);
    color:#eee;
}
	</style>
	<h1>Single Level Dropdown Menu</h1>
	<ul id="dropdown-wrapper">
        <li>
           <span>Rewrite</span>
            <ul class="dropdown-sublist">
                <li>Kotarou</li>
                <li>Kotori</li>
                <li>Akane</li>
                <li>Kagari</li>
                <li>Lucia</li>
                <li>Shizuru</li>
                <li>Chihaya</li>
            </ul>
        </li>
        <li>
           <span>Clannad</span>
            <ul class="dropdown-sublist">
                <li>Tomoya</li>
                <li>Nagisa</li>
                <li>Ushio</li>
                <li>Ryou</li>
                <li>Kyou</li>
                <li>Yukine</li>
                <li>Fuko</li>
                <li>Tomoyo</li>
                <li>Kotomi</li>
            </ul>
        </li>
        <li>
           <span>Air</span>
            <ul class="dropdown-sublist">
                <li>Yukito</li>
                <li>Misuzu</li>
                <li>Kano</li>
                <li>Minagi</li>
            </ul>
        </li>
    </ul>
</body>
</html>
</frame>


这里用纯CSS实现一个简单的单级下拉菜单，鼠标划过菜单标题时显示下拉菜单。

##基本思路

在菜单处于光标之下时显示菜单，其余时候隐藏。这个过程首先得想到 `:hover` 伪类来实现，但是直接的利用伪类还不行，因为普通状态下菜单隐藏了，没办法触发 `:hover`，不过下拉菜单隐藏了不是还有菜单标题么，菜单标题处于光标之下时显示菜单就能够显示出来了，但是鼠标移到菜单上的时候下拉菜单又会消失，这个时候想到给下拉菜单也加上`:hover`显示自身，但是万一脑洞大开，要做分体菜单怎么办，这个时候把它放进一个容器呗，利用标签的嵌套关系，去给容器的`:hover`伪类的派生元素写样式就一切搞定啦。

##上HTML结构

    <ul id="dropdown-wrapper">
        <li>
           <span>Rewrite</span>
            <ul class="dropdown-sublist">
                <li>Kotarou</li>
                <li>Kotori</li>
                <li>Akane</li>
                <li>Kagari</li>
                <li>Lucia</li>
                <li>Shizuru</li>
                <li>Chihaya</li>
            </ul>
        </li>
        <li>
           <span>Clannad</span>
            <ul class="dropdown-sublist">
                <li>Tomoya</li>
                <li>Nagisa</li>
                <li>Ushio</li>
                <li>Ryou</li>
                <li>Kyou</li>
                <li>Yukine</li>
                <li>Fuko</li>
                <li>Tomoyo</li>
                <li>Kotomi</li>
            </ul>
        </li>
        <li>
           <span>Air</span>
            <ul class="dropdown-sublist">
                <li>Yukito</li>
                <li>Misuzu</li>
                <li>Kano</li>
                <li>Minagi</li>
            </ul>
        </li>
    </ul>


##CSS

实现的关键就在那些打惊叹号的规则,写好显示与不显示时两个状态的下拉菜单的属性。同时添加了一些渐变以及平移让菜单显示更加自然。

    body{
        margin:0;
        padding:0;
        
        font-size:18px;
        
        background-color:#aaa;
    }
    h1{margin:2em 0.4em 0 0.4em;color:#eee;font-size:3em;}
    #dropdown-wrapper{
        display:block;
        
        margin:4em 1em 0 1em;
    }
    #dropdown-wrapper li{
        /*！！！！！！！！！！！！*/
        display:inline-table;
        padding:0;
        margin:0;
        
        position:relative;
        
        width:10em;
        
        background:#fff;
        
         -webkit-transition:all ease-in-out 0.3s;
        transition:all ease-in-out 0.3s;
    }
    #dropdown-wrapper span{
        display:block;
        padding:0.4em 1em;
        width:10em;
        color:#333;
    }
    #dropdown-wrapper span:after{
        display:inline-block;
        float:right;
        content:">";
        
        -webkit-transform:rotate(0deg);
        transform:rotate(0deg);/*为了渐变*/
        
         -webkit-transition:all ease-in-out 0.3s;
        transition:all ease-in-out 0.3s;
    }
    #dropdown-wrapper li:hover span:after{
        -webkit-transform:rotate(90deg);
        transform:rotate(90deg);/*划过的时候那个右箭头旋转90度，变成朝下的啦*/
    }
    #dropdown-wrapper li ul{
        /*！！！！！！！！！！！！*/
        display:block;
        position:absolute;
        
        padding:0;
        margin:0;
        
        height:0;/*平时的时候隐藏下拉列表*/
        line-height:0;/*0行高，这个的作用是用来制造一个文字展开的效果*/
        overflow:hidden;
        
        color:#555;
        
        opacity:0;
        
        -webkit-transform:translateY(-1em);
        transform: translateY(-1em);
    
         -webkit-transition:all ease-in-out 0.3s;
        transition:all ease-in-out 0.3s;
    }
    #dropdown-wrapper li ul>li{
        padding:0.7em 1em;
        
    }
    #dropdown-wrapper li:hover ul{
        /*！！！！！！！！！！！！*/
        /*这是容器处于光标下时的下拉列表的状态，
         *这个时候就是要做的就是显示下拉菜单咯
        */
        opacity:1;
        height:auto;
        line-height:1em;
        
        -webkit-transform: translaY(0);
        transform: translateY(0);
    }
    #dropdown-wrapper li:hover span{
        color:rgb(0,173,238);
    }
    #dropdown-wrapper li:hover ul>li:hover{
        background:rgb(0,173,238);
        color:#eee;
    }